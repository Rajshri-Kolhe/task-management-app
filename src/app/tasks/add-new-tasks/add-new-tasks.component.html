<form [formGroup]="taskForm" (ngSubmit)="onTasksSubmit()" class="max-w-3xl mx-auto p-6 bg-white rounded-lg shadow-md">

  <!-- Row 1: Title and Assigned By -->
  <div class="grid grid-cols-2 gap-6 mb-4">
    <div>
      <label for="title" class="block mb-1 font-semibold text-gray-700">
        Title <span class="text-red-500">*</span>
      </label>
      <input
        id="title"
        type="text"
        formControlName="title"
        placeholder="Enter task title"
        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
      />
      <small *ngIf="taskForm.get('title')?.invalid && taskForm.get('title')?.touched" class="text-red-600 text-sm">
        Title is required.
      </small>
    </div>

    <div>
      <label for="assigned_by" class="block mb-1 font-semibold text-gray-700">
        Assigned By <span class="text-red-500">*</span>
      </label>
      <input
        id="assigned_by"
        type="text"
        formControlName="assigned_by"
        placeholder="Enter your name or email"
        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
      />
      <small *ngIf="taskForm.get('assigned_by')?.invalid && taskForm.get('assigned_by')?.touched" class="text-red-600 text-sm">
        Assigned By is required.
      </small>
    </div>
  </div>



  <!-- Row 3: Priority and Status -->
  <div class="grid grid-cols-2 gap-6 mb-4">
    <div>
      <label for="priority" class="block mb-1 font-semibold text-gray-700">
        Priority <span class="text-red-500">*</span>
      </label>
      <select
        id="priority"
        formControlName="priority"
        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
      >
        <option [value]="1">Low</option>
        <option [value]="2">Medium</option>
        <option [value]="3">High</option>
      </select>
    </div>

    <div>
      <label for="status" class="block mb-1 font-semibold text-gray-700">
        Status <span class="text-red-500">*</span>
      </label>
      <select
        id="status"
        formControlName="status"
        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
      >
        <option value="pending">Pending</option>
        <option value="in-progress">In Progress</option>
        <option value="done">Done</option>
      </select>
    </div>
  </div>

  <!-- Row 2: Description (full width) -->
  <div class="mb-4">
    <label for="description" class="block mb-1 font-semibold text-gray-700">
      Description
    </label>
    <textarea
      id="description"
      formControlName="description"
      rows="4"
      placeholder="Enter task description"
      class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"
    ></textarea>
  </div>

  <!-- Row 4: Due Date (full width) -->
 <div class="grid grid-cols-2 gap-6 mb-6">
    <div>
      <label for="due_date" class="block mb-1 font-semibold text-gray-700">
        Due Date <span class="text-red-500">*</span>
      </label>
      <input
        id="due_date"
        type="date"
        formControlName="due_date"
        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
      />
      <small *ngIf="taskForm.get('due_date')?.invalid && taskForm.get('due_date')?.touched" class="text-red-600 text-sm">
        Due date is required.
      </small>
    </div>
  </div>

  <div class="text-right">
    <button
      type="submit"
      [disabled]="taskForm.invalid"
      class="px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:bg-green-300"
    >
      Create Task
    </button>
  </div>
</form>
<p-toast></p-toast>